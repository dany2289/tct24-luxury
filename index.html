<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCT24 Srl - Luxury Division | Brochure Digitale</title>
    <!-- FAVICON -->
    <link rel="icon" type="image/png" href="favicon.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* CURSORE PERSONALIZZATO */
        @media (pointer: fine) {
            body, a, button, [role="button"], .img-zoom-container { cursor: none !important; }
            
            .custom-cursor {
                width: 8px;
                height: 8px;
                background-color: #D4AF37;
                border-radius: 50%;
                position: fixed;
                pointer-events: none;
                z-index: 10000;
                transform: translate(-50%, -50%);
                will-change: left, top;
            }

            .custom-cursor-aura {
                width: 40px;
                height: 40px;
                border: 1.5px solid rgba(212, 175, 55, 0.5);
                border-radius: 50%;
                position: fixed;
                pointer-events: none;
                z-index: 9999;
                transform: translate(-50%, -50%);
                transition: left 0.15s ease-out, top 0.15s ease-out, width 0.3s, height 0.3s, border 0.3s, background-color 0.3s;
                will-change: left, top;
            }

            .cursor-hover .custom-cursor {
                width: 4px;
                height: 4px;
                background-color: #ffffff;
            }

            .cursor-hover .custom-cursor-aura {
                width: 60px;
                height: 60px;
                border: 1.5px solid rgba(212, 175, 55, 1);
                background-color: rgba(212, 175, 55, 0.1);
            }
        }

        body { font-family: 'Inter', sans-serif; overflow-x: hidden; user-select: none; background-color: #0f172a; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .bg-ebonite { background-color: #0f172a; }
        .text-gold { color: #D4AF37; }
        .border-gold { border-color: #D4AF37; }
        .bg-gold { background-color: #D4AF37; }
        
        /* COLOR GRADING DIGITALE - NATURALE */
        .luxury-grading {
            filter: contrast(1.05) brightness(0.98) saturate(1.02);
            transition: filter 1s ease;
        }

        /* ANIMAZIONI DI PARALLASSE E TIPOGRAFIA DINAMICA */
        .parallax-layer-1 { 
            animation: driftIn 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
            transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .parallax-layer-2 { 
            animation: driftIn 1.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards,
                       letterExpand 2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; 
            opacity: 0; 
            animation-delay: 0.1s;
            transition: transform 0.7s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .parallax-layer-3 { 
            animation: driftIn 1.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; 
            opacity: 0; 
            animation-delay: 0.2s;
            transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        @keyframes driftIn {
            from { opacity: 0; transform: translateX(30px) translateY(10px); }
            to { opacity: 1; transform: translateX(0) translateY(0); }
        }

        @keyframes letterExpand {
            from { letter-spacing: 0.01em; } 
            to { letter-spacing: 0.04em; }
        }

        .animate-logo-breath {
            animation: logoBreath 4s ease-in-out infinite;
        }
        @keyframes logoBreath {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.05); opacity: 1; }
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #D4AF37; border-radius: 10px; }

        .img-overlay {
            background: linear-gradient(to right, rgba(15, 23, 42, 0.95) 0%, rgba(15, 23, 42, 0.7) 40%, rgba(15, 23, 42, 0.3) 100%);
        }

        .img-overlay-centered {
            background: radial-gradient(circle, rgba(15, 23, 42, 0.4) 0%, rgba(15, 23, 42, 0.9) 100%);
        }
        
        .video-grain { filter: brightness(0.6) contrast(1.1) saturate(0.9); }

        .lang-dropdown {
            background: rgba(15, 23, 42, 0.98);
            backdrop-filter: blur(15px);
            z-index: 100;
        }

        .img-zoom-container img { transition: transform 1.5s cubic-bezier(0.2, 0.8, 0.2, 1); }

        .main-content-transition { transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1); }

        .parallax-bg-wrapper {
            position: absolute;
            inset: -5%;
            width: 110%;
            height: 110%;
            overflow: hidden;
            transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
    </style>
</head>
<body class="bg-ebonite">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        const Icon = ({ name, size = 24, className = "" }) => {
            const icons = {
                ChevronRight: <path d="m9 18 6-6-6-6"/>,
                ChevronLeft: <path d="m15 18-6-6 6-6"/>,
                ShieldCheck: <><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></>,
                Globe: <><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></>,
                Package: <><path d="M16.5 9.4 7.5 4.21"/><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" cy1="22.08" x2="12" y2="12"/></>,
                Award: <><circle cx="12" cy="8" r="6"/><path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"/></>,
                CheckCircle2: <><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></>,
                Truck: <><rect x="1" y="3" width="15" height="13"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></>,
                Phone: <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>,
                Mail: <><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></>,
                Languages: <><path d="m5 8 6 6"/><path d="m4 14 6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/><path d="m22 22-5-10-5 10"/><path d="M14 18h6"/></>,
                Volume2: <><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></>,
                VolumeX: <><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></>,
                Play: <path d="m5 3 14 9-14 9V3z"/>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || <circle cx="12" cy="12" r="10" />}
                </svg>
            );
        };

        const translations = {
            IT: {
                nav: { call: "Chiama", division: "Luxury Division" },
                reveal: { loading: "Stiamo curando ogni dettaglio", enter: "Scopri la nostra visione" },
                slides: [
                    { title: "Eccellenza in ogni passaggio", subtitle: "TCT24 Srl • Luxury Division", content: "TCT24 Luxury Division. La perfezione arriva a destinazione. Sempre." },
                    { title: "La bellezza merita protezione", subtitle: "LA NOSTRA VISIONE", content: "Il made in Italy deve viaggiare con la cura che merita e gli appartiene." },
                    { title: "Il viaggio inizia dalla cura", subtitle: "LA CURA NEI DETTAGLI", content: "Ogni trasporto è preparato con massima attenzione, perché la bellezza chiede rispetto.", labels: ["STATO RICEZIONE", "METODO TCT24"] },
                    { title: "Corfù:\nCase Study", subtitle: "SERVIZIO CHIAVI IN MANO", content: "Dalla consegna al posizionamento millimetrico, ogni fase è gestita con precisione assoluta.", labels: ["Cura del dettaglio", "Posizionamento finale"] },
                    { title: "Oltre ogni\nconfine", subtitle: "UK • SVIZZERA • TURCHIA", content: "Dalle formalità doganali alla consegna finale, coordiniamo ogni fase e passaggio.", labels: ["Tratte internazionali", "Precisione geografica"] },
                    { title: "Tecnologia e sicurezza", subtitle: "PROTEZIONE TOTALE", content: "Monitoraggio continuo e standard ai massimi livelli nel settore.",
                        features: [{ title: "ALL-RISK", desc: "Valore sempre garantito." }, { title: "TRACKING IN TEMPO REALE", desc: "Posizione aggiornata in ogni momento." }, { title: "SPONDA IDRAULICA", desc: "Scarico in totale sicurezza." }]
                    },
                    { title: "Contattaci", subtitle: "PROGETTIAMO IL TUO VIAGGIO", content: "Affida il tuo prestigio a mani esperte." }
                ]
            },
            EN: {
                nav: { call: "Call", division: "Luxury Division" },
                reveal: { loading: "Crafting every detail", enter: "Discover our vision" },
                slides: [
                    { title: "Excellence in every step", subtitle: "TCT24 Srl • Luxury Division", content: "TCT24 Luxury Division. Perfection arrives at its destination. Always." },
                    { title: "Beauty deserves protection", subtitle: "OUR VISION", content: "Made in Italy must travel with the care it deserves and belongs to it." },
                    { title: "The journey begins with care", subtitle: "DETAIL ORIENTED CARE", content: "Every transport is prepared with maximum attention, because beauty demands respect.", labels: ["RECEPTION", "TCT24 METHOD"] },
                    { title: "Corfu:\nCase Study", subtitle: "TURNKEY SERVICE", content: "From delivery to millimeter positioning, every phase is managed with absolute precision.", labels: ["Attention to detail", "Final placement"] },
                    { title: "Beyond every\nborder", subtitle: "UK • SWITZERLAND • TURKEY", content: "From customs formalities to final delivery, we coordinate every phase and step.", labels: ["International routes", "Geographic precision"] },
                    { title: "Tech & Security", subtitle: "TOTAL PROTECTION", content: "Continuous monitoring and industry-leading standards in the sector.",
                        features: [{ title: "ALL-RISK", desc: "Value always guaranteed." }, { title: "REAL-TIME TRACKING", desc: "Position updated at all times." }, { title: "HYDRAULIC LIFT", desc: "Unloading in total safety." }]
                    },
                    { title: "Contact Us", subtitle: "WE PLAN YOUR JOURNEY", content: "Entrust your prestige to expert hands." }
                ]
            },
            PL: {
                nav: { call: "Zadzwoń", division: "Luxury Division" },
                reveal: { loading: "Dbamy o każdy detal", enter: "Poznaj naszą wizję" },
                slides: [
                    { title: "Doskonałość w każdym kroku", subtitle: "TCT24 Srl • Luxury Division", content: "TCT24 Luxury Division. Perfekcja dociera do celu. Zawsze." },
                    { title: "Piękno zasługuje na ochronę", subtitle: "NASZA WIZJA", content: "Produkty Made in Italy muszą podróżować z troską, na jaką zasługują i która im się należy." },
                    { title: "Podróż zaczyna się od troski", subtitle: "TROSKA O SZCZEGÓŁY", content: "Każdy transport jest przygotowany z najwyższą starannością, ponieważ piękno wymaga szacunku.", labels: ["STAN PRZYJĘCIA", "METODA TCT24"] },
                    { title: "Korfu:\nstudium przypadku", subtitle: "USŁUGA POD KLUCZ", content: "Od dostawy po milimetrowe ustawienie, każdy etap jest zarządzany z absolutną precyzją.", labels: ["Dbałość o detale", "Ustawienie końcowe"] },
                    { title: "Ponad wszelkimi\ngranicami", subtitle: "UK • SZWAJCARIA • TURCJA", content: "Od formalności celnych po końcową dostawę, koordynujemy każdy etap i krok.", labels: ["Trasy międzynarodowe", "Precyzja geograficzna"] },
                    { title: "Technologia i bezpieczeństwo", subtitle: "PEŁNA OCHRONA", content: "Stały nadzór i standardy na najwyższym poziomie w branży.",
                        features: [{ title: "ALL-RISK", desc: "Wartość zawsze gwarantowana." }, { title: "TRACKING W CZASIE RZECZYWISTYM", desc: "Pozycja aktualizowana w każdym momencie." }, { title: "WINDA ZAŁADOWCZA", desc: "Rozładunek w całkowitym bezpieczeństwie." }]
                    },
                    { title: "Skontaktuj się z nami", subtitle: "PLANUJEMY TWOJĄ PODRÓŻ", content: "Powierz swój prestiż w ręce ekspertów." }
                ]
            },
            DE: {
                nav: { call: "Anrufen", division: "Luxury Division" },
                reveal: { loading: "Wir achten auf jedes Detail", enter: "Entdecken Sie unsere Vision" },
                slides: [
                    { title: "Exzellenz bei jedem Schritt", subtitle: "TCT24 Srl • Luxury Division", content: "TCT24 Luxury Division. Perfektion kommt ans Ziel. Immer." },
                    { title: "Schönheit verdient Schutz", subtitle: "UNSERE VISION", content: "Made in Italy muss mit der Sorgfalt reisen, die es verdient und die ihm gebührt." },
                    { title: "Die Reise beginnt mit Sorgfalt", subtitle: "SORGFALT IM DETAIL", content: "Jeder Transport wird mit höchster Aufmerksamkeit vorbereitet, denn Schönheit verlangt Respekt.", labels: ["ÜBERNAHME", "TCT24 METHODE"] },
                    { title: "Korfu:\nFallstudie", subtitle: "SCHLÜSSELFERTIGER SERVICE", content: "Von der Lieferung bis zur millimetergenauen Positionierung wird jede Phase mit absoluter Präzision gesteuert.", labels: ["Liebe zum Detail", "Endgültige Platzierung"] },
                    { title: "Grenzenlos\nin Europa", subtitle: "UK • SCHWEIZ • TÜRKEI", content: "Von den Zollformalitäten bis zur Endauslieferung koordinieren wir jede Phase und jeden Schritt.", labels: ["Internationale Routen", "Geografische Präzision"] },
                    { title: "Technik & Sicherheit", subtitle: "RUNDUMSCHUTZ", content: "Ständige Überwachung und höchste Marktstandards in der Branche.",
                        features: [{ title: "ALL-RISK", desc: "Wert immer garantiert." }, { title: "ECHTZEIT-TRACKING", desc: "Position in jedem Moment aktualisiert." }, { title: "LADEBORDWAND", desc: "Entladung in absoluter Sicherheit." }]
                    },
                    { title: "Kontaktieren Sie uns", subtitle: "IHRE REISE PLANEN", content: "Vertrauen Sie Ihr Ansehen erfahrenen Händen an." }
                ]
            },
            FR: {
                nav: { call: "Appeler", division: "Luxury Division" },
                reveal: { loading: "Nous soignons chaque détail", enter: "Découvrez notre vision" },
                slides: [
                    { title: "L'excellence à ogni étape", subtitle: "TCT24 Srl • Luxury Division", content: "TCT24 Luxury Division. La perfection arrive à destination. Toujours." },
                    { title: "La beauté mérite protection", subtitle: "NOTRE VISION", content: "Le made in Italy doit voyager avec le soin qu'il mérite et qui lui appartient." },
                    { title: "Le voyage commence par le soin", subtitle: "LE SOIN DU DÉTAIL", content: "Chaque transport est préparé avec une attention maximale, car la beauté exige le respect.", labels: ["RÉCEPTION", "MÉTHODE TCT24"] },
                    { title: "Corfou :\nétude de cas", subtitle: "SERVICE CLÉS EN MAIN", content: "De la livraison au positionnement millimétré, ogni étape est gérée avec une précision absolue.", labels: ["Soin du détail", "Placement final"] },
                    { title: "Au-delà de ogni\nfrontière", subtitle: "UK • SUISSE • TURQUIE", content: "Des formalités douanières à la livraison finale, nous coordonnons chaque phase et étape.", labels: ["Routes internationales", "Précision géographique"] },
                    { title: "Technologie et sécurité", subtitle: "PROTECTION TOTALE", content: "Suivi constant et normes au plus haut niveau du secteur.",
                        features: [{ title: "ALL-RISK", desc: "Valeur toujours garantie." }, { title: "SUIVI EN TEMPS RÉEL", desc: "Position actualisée à tout moment." }, { title: "HAYON ÉLÉVATEUR", desc: "Déchargement en toute sécurité." }]
                    },
                    { title: "Contactez-nous", subtitle: "PLANIFIONS VOTRE VOYAGE", content: "Confiez votre prestige à des mains expertes." }
                ]
            },
            ES: {
                nav: { call: "Llamar", division: "Luxury Division" },
                reveal: { loading: "Cuidamos cada detalle", enter: "Descubra nuestra visión" },
                slides: [
                    { title: "Excelencia en cada paso", subtitle: "TCT24 Srl • Luxury Division", content: "TCT24 Luxury Division. La perfección llega a su destino. Siempre." },
                    { title: "La belleza merece protección", subtitle: "NUESTRA VISIÓN", content: "El made in Italy debe viajar con el cuidado que merece y le corresponde." },
                    { title: "El viaje comienza con el cuidado", subtitle: "CUIDADO EN LOS DETALLES", content: "Cada transporte se prepara con la máxima atención, porque la belleza exige respeto.", labels: ["RECEPCIÓN", "MÉTODO TCT24"] },
                    { title: "Corfú:\ncaso de estudio", subtitle: "SERVICIO LLAVE EN MANO", content: "Desde la entrega hasta el posicionamiento milimétrico, cada fase se gestiona con absoluta precisión.", labels: ["Cuidado del detalle", "Colocación final"] },
                    { title: "Más allá de cada\nfrontera", subtitle: "UK • SUIZA • TURQUÍA", content: "Desde los trámites aduaneros hasta la entrega final, coordinamos cada fase y paso.", labels: ["Rutas internacionales", "Precisión geográfica"] },
                    { title: "Tecnología y seguridad", subtitle: "PROTECCIÓN TOTAL", content: "Monitoreo constante e los más altos estándares del sector.",
                        features: [{ title: "ALL-RISK", desc: "Valor siempre garantizado." }, { title: "SEGUIMIENTO EN TIEMPO REAL", desc: "Posición actualizada en todo momento." }, { title: "PLATAFORMA ELEVADORA", desc: "Descarga en total seguridad." }]
                    },
                    { title: "Contáctenos", subtitle: "PLANIFICAMOS SU VIAJE", content: "Confíe su prestigio a manos expertas." }
                ]
            }
        };

        const App = () => {
            const getInitialLanguage = () => {
                try {
                    const browserLang = (navigator.language || navigator.userLanguage).split('-')[0].toUpperCase();
                    const supported = ['IT', 'PL', 'EN', 'DE', 'FR', 'ES'];
                    return supported.includes(browserLang) ? browserLang : 'IT';
                } catch (e) { return 'IT'; }
            };

            const [currentSlide, setCurrentSlide] = useState(0);
            const [lang, setLang] = useState(getInitialLanguage());
            const [isLangOpen, setIsLangOpen] = useState(false);
            const [mousePos, setMousePos] = useState({ x: 0, y: 0 });
            const [isHoveringInteractions, setIsHoveringInteractions] = useState(false);
            const [isMuted, setIsMuted] = useState(true);
            
            const [welcomeStage, setWelcomeStage] = useState('loading');
            const [loadingProgress, setLoadingProgress] = useState(0);

            const auraRef = useRef(null);
            const cursorRef = useRef(null);
            const audioRef = useRef(null);
            const swooshRef = useRef(null);
            const clickRef = useRef(null);
            const touchStartX = useRef(null);

            const heroImages = ["ztl.jpg", "ztl2.jpg", "ztl3.jpg"]; 
            const netImages = ["per-strada.jpg", "per-strada2.jpg"]; 

            const [heroIndex, setHeroIndex] = useState(0);
            const [heroProgress, setHeroProgress] = useState(0);
            const [heroIsClearing, setHeroIsClearing] = useState(false);

            const [netIndex, setNetIndex] = useState(0);
            const [netProgress, setNetProgress] = useState(0);
            const [netIsClearing, setNetIsClearing] = useState(false);
            
            const minSwipeDistance = 50;

            const languages = [
                { code: 'IT', label: 'Italiano' }, { code: 'PL', label: 'Polski' },
                { code: 'EN', label: 'English' }, { code: 'DE', label: 'Deutsch' },
                { code: 'FR', label: 'Français' }, { code: 'ES', label: 'Español' }
            ];

            const slidesContent = [
                { id: "copertina", isHero: true, bg: "bg-ebonite" },
                { id: "visione", image: "italian-design.jpg", isHero: true, isCentered: true, bg: "bg-ebonite" },
                { id: "racconto", isComparison: true, images: ["carico-appena-caricato.jpg", "carico-sicuro.jpg"], bg: "bg-white", textColor: "text-slate-900" },
                { id: "corfu", isComparison: true, images: ["tavolo-marmo.jpg", "merce-posizionata.jpg"], bg: "bg-ebonite" },
                { id: "network", isHero: true, bg: "bg-ebonite" },
                { id: "tecnologia", video: "7873326-hd_1920_1080_30fps.mp4", isHero: true, bg: "bg-ebonite", features: [ { icon: "ShieldCheck" }, { icon: "Globe" }, { icon: "Truck" } ] },
                { id: "cta", isCTA: true, bg: "bg-ebonite", email: "info@tct24.it", phone: "+39 392 901 4511", qr: "qr-daniel.png", parentLogo: "bima-logo.svg" }
            ];

            useEffect(() => {
                if (welcomeStage === 'loading') {
                    const timer = setInterval(() => {
                        setLoadingProgress(prev => {
                            if (prev >= 100) {
                                clearInterval(timer);
                                setTimeout(() => setWelcomeStage('ready'), 300);
                                return 100;
                            }
                            return prev + 1.2;
                        });
                    }, 30);
                    return () => clearInterval(timer);
                }
            }, [welcomeStage]);

            const playSwoosh = () => {
                if (swooshRef.current) {
                    swooshRef.current.playbackRate = 1;
                    swooshRef.current.volume = 0.5;
                    swooshRef.current.currentTime = 0;
                    swooshRef.current.play().catch(() => {});
                }
            };

            const playClick = () => {
                if (clickRef.current) {
                    clickRef.current.volume = 0.3;
                    clickRef.current.currentTime = 0;
                    clickRef.current.play().catch(() => {});
                }
            };

            const handleEnterExperience = () => {
                playClick();
                playSwoosh();
                if (audioRef.current) {
                    audioRef.current.play().then(() => setIsMuted(false)).catch(() => {});
                }
                setWelcomeStage('entered');
            };

            const next = () => {
                playSwoosh();
                setCurrentSlide((prev) => (prev + 1) % slidesContent.length);
            };
            const prev = () => {
                playSwoosh();
                setCurrentSlide((prev) => (prev - 1 + slidesContent.length) % slidesContent.length);
            };

            const toggleMusic = (e) => {
                e.stopPropagation();
                playClick();
                if (audioRef.current) {
                    if (isMuted) {
                        audioRef.current.play().catch(console.error);
                        setIsMuted(false);
                    } else {
                        audioRef.current.pause();
                        setIsMuted(true);
                    }
                }
            };

            const handleGlobalMouseMove = (e) => {
                const x = e.clientX;
                const y = e.clientY;

                if (cursorRef.current) {
                    cursorRef.current.style.left = `${x}px`;
                    cursorRef.current.style.top = `${y}px`;
                }
                if (auraRef.current) {
                    auraRef.current.style.left = `${x}px`;
                    auraRef.current.style.top = `${y}px`;
                }

                if (window.matchMedia('(pointer: fine)').matches) {
                    const px = (x / window.innerWidth) - 0.5;
                    const py = (y / window.innerHeight) - 0.5;
                    setMousePos({ x: px, y: py });
                }

                const target = e.target;
                const isInteracting = target.closest('a') || target.closest('button');
                setIsHoveringInteractions(!!isInteracting);
            };

            useEffect(() => {
                window.addEventListener('mousemove', handleGlobalMouseMove);
                return () => window.removeEventListener('mousemove', handleGlobalMouseMove);
            }, []);

            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (welcomeStage !== 'entered') return;
                    if (e.key === 'ArrowRight') next();
                    else if (e.key === 'ArrowLeft') prev();
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [currentSlide, welcomeStage]);

            useEffect(() => {
                if (currentSlide !== 0) { setHeroProgress(0); setHeroIsClearing(false); return; }
                const timer = setInterval(() => {
                    setHeroProgress((prev) => {
                        if (prev >= 100) {
                            setHeroIndex((idx) => (idx + 1) % heroImages.length);
                            setHeroIsClearing(curr => !curr);
                            return 0;
                        }
                        return prev + 1.25;
                    });
                }, 50);
                return () => clearInterval(timer);
            }, [currentSlide, heroImages.length]);

            useEffect(() => {
                if (currentSlide !== 4) { setNetProgress(0); setNetIsClearing(false); return; }
                const timer = setInterval(() => {
                    setNetProgress((prev) => {
                        if (prev >= 100) {
                            setNetIndex((idx) => (idx + 1) % netImages.length);
                            setNetIsClearing(curr => !curr);
                            return 0;
                        }
                        return prev + 1.25;
                    });
                }, 50);
                return () => clearInterval(timer);
            }, [currentSlide, netImages.length]);

            const t = translations[lang] || translations.IT;
            const slideData = slidesContent[currentSlide];
            const slideText = t.slides[currentSlide];

            const handleTouchStart = (e) => {
                touchStartX.current = e.targetTouches[0].clientX;
            };

            const handleTouchEnd = (e) => {
                if (welcomeStage !== 'entered') return;
                if (!touchStartX.current) return;
                const touchEndX = e.changedTouches[0].clientX;
                const distance = touchStartX.current - touchEndX;
                if (Math.abs(distance) > minSwipeDistance) {
                    if (distance > 0) next(); else prev();
                }
                touchStartX.current = null;
            };

            const isDark = slideData.bg === "bg-ebonite";
            const isLastSlide = currentSlide === slidesContent.length - 1;

            return (
                <div 
                    className={`min-h-screen flex flex-col transition-colors duration-500 ${slideData.bg} ${isHoveringInteractions ? 'cursor-hover' : ''}`}
                    onTouchStart={handleTouchStart}
                    onTouchEnd={handleTouchEnd}
                    onMouseDown={(e) => { if (welcomeStage === 'entered') touchStartX.current = e.clientX; }}
                    onMouseUp={(e) => {
                        if (welcomeStage !== 'entered' || !touchStartX.current) return;
                        const distance = touchStartX.current - e.clientX;
                        if (Math.abs(distance) > minSwipeDistance) {
                            if (distance > 0) next(); else prev();
                        }
                        touchStartX.current = null;
                    }}
                >
                    <audio ref={audioRef} src="viacheslavstarostin-inspiring-inspirational-music-418199.mp3" loop preLoad="auto" />
                    <audio ref={swooshRef} src="universfield-magical-twinkle-242245.mp3" preLoad="auto" />
                    <audio ref={clickRef} src="denielcz-immersivecontrol-button-click-sound-463065.mp3" preLoad="auto" />

                    <div ref={cursorRef} className="custom-cursor"></div>
                    <div ref={auraRef} className="custom-cursor-aura"></div>

                    {/* SCHERMATA REVEAL / BENVENUTO */}
                    {welcomeStage !== 'entered' && (
                        <div className={`fixed inset-0 z-[9000] bg-ebonite flex flex-col items-center justify-center p-8 transition-opacity duration-1000 ${welcomeStage === 'entered' ? 'opacity-0 pointer-events-none' : 'opacity-100'}`}>
                            <div className="flex flex-col items-center max-w-sm w-full text-center">
                                <img src="logo.svg" alt="TCT24 Luxury" className="h-16 md:h-20 w-auto mb-12 animate-logo-breath" />
                                {welcomeStage === 'loading' ? (
                                    <div className="w-full space-y-4">
                                        <div className="h-[1px] w-full bg-white/10 overflow-hidden relative">
                                            <div 
                                                className="h-full bg-gold transition-all duration-300 ease-out"
                                                style={{ width: `${loadingProgress}%` }}
                                            ></div>
                                        </div>
                                        <p className="text-[10px] font-black tracking-[0.4em] uppercase text-white/70">{t.reveal.loading}</p>
                                    </div>
                                ) : (
                                    <button 
                                        onClick={handleEnterExperience}
                                        className="group relative flex flex-col items-center gap-4 py-4 px-8 outline-none"
                                    >
                                        <div className="p-4 rounded-full border border-gold text-gold group-hover:bg-gold group-hover:text-ebonite transition-all duration-500 scale-110">
                                            <Icon name="Play" size={24} />
                                        </div>
                                        <span className="text-xs font-black tracking-[0.4em] uppercase text-white group-hover:text-gold transition-colors duration-500">{t.reveal.enter}</span>
                                    </button>
                                )}
                            </div>
                        </div>
                    )}

                    <nav className="bg-ebonite border-b border-slate-800 px-4 md:px-6 py-4 flex justify-between items-center sticky top-0 z-50 shadow-2xl relative">
                        <div className="flex items-center gap-4">
                            <img src="logo.svg" alt="Logo TCT24" className="h-10 md:h-14 w-auto object-contain" onClick={() => { playClick(); setCurrentSlide(0); }} />
                            <div className="h-8 w-[1px] bg-slate-700 hidden sm:block mx-2"></div>
                            <span className="font-serif italic tracking-widest text-gold uppercase text-[9px] md:text-xs">{t.nav.division}</span>
                        </div>

                        <div className="flex items-center gap-3 md:gap-6">
                            <button onClick={toggleMusic} className="text-white/70 hover:text-gold transition-colors p-2" title={isMuted ? "Attiva audio" : "Silenzia audio"}><Icon name={isMuted ? "VolumeX" : "Volume2"} size={18} /></button>
                            <div className="relative">
                                <button onClick={() => { playClick(); setIsLangOpen(!isLangOpen); }} className="flex items-center gap-2 text-white/70 hover:text-gold transition-colors text-[10px] md:text-xs font-bold tracking-widest uppercase border border-white/20 px-3 py-1.5 rounded-md">
                                    <Icon name="Languages" size={14} className="text-gold" />
                                    <span>{lang}</span>
                                </button>
                                {isLangOpen && (
                                    <div className="absolute right-0 mt-2 w-32 lang-dropdown border border-slate-700 rounded-lg overflow-hidden shadow-2xl nav-contact-enter">
                                        {languages.map((l) => (
                                            <button key={l.code} onClick={() => { playClick(); setLang(l.code); setIsLangOpen(false); }} className={`w-full text-left px-4 py-2 text-[10px] md:text-xs font-bold uppercase tracking-widest transition-colors ${lang === l.code ? 'bg-gold text-ebonite' : 'text-white hover:bg-slate-800'}`}>{l.label}</button>
                                        ))}
                                    </div>
                                )}
                            </div>

                            {!isLastSlide && (
                                <div className="flex items-center gap-3 md:gap-6 nav-contact-enter">
                                    <a href="mailto:info@tct24.it" onClick={playClick} className="hidden lg:flex items-center gap-2 text-white hover:text-gold transition-colors text-[10px] md:text-xs font-bold uppercase tracking-widest"><Icon name="Mail" size={16} className="text-gold" /><span>info@tct24.it</span></a>
                                    <a href="tel:+393929014511" onClick={playClick} className="flex items-center gap-2 bg-gold/10 hover:bg-gold text-gold hover:text-ebonite border border-gold/50 px-3 md:px-4 py-1.5 md:py-2 rounded-full transition-all text-[10px] md:text-xs font-black uppercase tracking-widest"><Icon name="Phone" size={14} /><span>{t.nav.call}</span></a>
                                </div>
                            )}
                        </div>
                        
                        {(currentSlide === 0 || currentSlide === 4) && (
                            <div className="absolute bottom-0 left-0 h-[2px] bg-gold/10 w-full z-50 overflow-hidden">
                                <div 
                                    className="h-full bg-gold transition-all duration-75 ease-linear"
                                    style={{ 
                                        width: (currentSlide === 0 ? heroProgress : netProgress) + '%',
                                        marginLeft: 0
                                    }}
                                ></div>
                            </div>
                        )}
                    </nav>

                    <main className="flex-1 relative flex flex-col justify-center overflow-hidden" onClick={() => setIsLangOpen(false)}>
                        {slideData.isHero ? (
                            <div 
                                className="parallax-bg-wrapper pointer-events-none"
                                style={{ transform: `translate(${mousePos.x * -20}px, ${mousePos.y * -20}px)` }}
                            >
                                {slideData.id === "copertina" ? (
                                    heroImages.map((img, idx) => (
                                        <img key={idx} src={img} alt="Hero" className={`absolute inset-0 w-full h-full object-cover animate-ken-burns luxury-grading transition-opacity duration-1000 ${heroIndex === idx ? 'opacity-100' : 'opacity-0'}`} />
                                    ))
                                ) : slideData.id === "network" ? (
                                    netImages.map((img, idx) => (
                                        <img key={idx} src={img} alt="Network" className={`absolute inset-0 w-full h-full object-cover animate-ken-burns luxury-grading transition-opacity duration-1000 ${netIndex === idx ? 'opacity-100' : 'opacity-0'}`} />
                                    ))
                                ) : slideData.video ? (
                                    <video src={slideData.video} autoPlay loop muted playsInline className="absolute inset-0 w-full h-full object-cover luxury-grading" />
                                ) : (
                                    <img src={slideData.image} alt="Background" className="w-full h-full object-cover animate-ken-burns luxury-grading" />
                                )}
                                <div className={`absolute inset-0 ${slideData.isCentered ? 'img-overlay-centered' : 'img-overlay'}`}></div>
                            </div>
                        ) : null}

                        <div 
                            className={`relative z-10 max-w-7xl mx-auto w-full p-6 md:p-12 slide-enter pointer-events-none main-content-transition ${welcomeStage !== 'entered' ? 'invisible' : ''}`}
                            key={currentSlide}
                        >
                            <div className={`grid grid-cols-1 ${slideData.isCentered ? 'text-center max-w-4xl mx-auto' : 'lg:grid-cols-2'} gap-12 items-center`}>
                                <div 
                                    className={`space-y-8 pointer-events-auto ${slideData.isCentered ? 'mx-auto' : ''}`}
                                    style={{ transform: `translate(${mousePos.x * 25}px, ${mousePos.y * 25}px)` }}
                                >
                                    <div className={`w-16 border-t-4 parallax-layer-1 ${isDark ? 'border-gold' : 'border-slate-300'} ${slideData.isCentered ? 'mx-auto' : ''}`}></div>
                                    <h2 className={`text-xs tracking-[0.4em] font-black uppercase parallax-layer-1 ${isDark ? 'text-gold' : 'text-slate-400'}`}>
                                        {slideText.subtitle}
                                    </h2>
                                    <h1 className={`text-4xl md:text-7xl font-serif leading-tight parallax-layer-2 ${slideData.textColor || 'text-white'}`} style={{ whiteSpace: 'pre-line' }}>
                                        {slideText.title}
                                    </h1>
                                    <p className={`text-lg md:text-2xl font-light leading-relaxed italic parallax-layer-3 ${slideData.textColor || 'text-slate-300'}`}>
                                        {slideText.content}
                                    </p>

                                    {slideText.features && (
                                        <div className={`grid grid-cols-1 gap-6 mt-12 parallax-layer-3 ${slideData.isCentered ? 'text-left max-w-lg mx-auto' : ''}`}>
                                            {slideText.features.map((f, i) => (
                                                <div key={i} className="flex items-start gap-4 group">
                                                    <div className={`p-3 rounded-full transition-transform group-hover:scale-110 ${isDark ? 'bg-gold/10 text-gold' : 'bg-slate-100 text-slate-600'}`}>
                                                        <Icon name={slideData.features[i].icon} size={20} />
                                                    </div>
                                                    <div className="text-left">
                                                        <h4 className={`font-bold text-sm uppercase tracking-wider ${slideData.textColor || 'text-white'}`}>{f.title}</h4>
                                                        <p className="text-sm opacity-70 text-slate-300">{f.desc}</p>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    )}

                                    {slideData.isCTA && (
                                        <div className="pt-12 space-y-8 parallax-layer-3">
                                            <div className={`space-y-4 ${slideData.isCentered ? 'flex flex-col items-center' : ''}`}>
                                                <a href={`mailto:${slideData.email}`} onClick={playClick} className="flex items-center gap-4 text-white contact-link w-fit group">
                                                    <div className="p-3 bg-gold/10 rounded-full group-hover:bg-gold/20 transition-all text-gold">
                                                        <Icon name="Mail" size={24} />
                                                    </div>
                                                    <span className="text-xl font-light tracking-wider">{slideData.email}</span>
                                                </a>
                                                <a href={`tel:${slideData.phone.replace(/\s+/g, '')}`} onClick={playClick} className="flex items-center gap-4 text-white contact-link w-fit group">
                                                    <div className="p-3 bg-gold/10 rounded-full group-hover:bg-gold/20 transition-all text-gold">
                                                        <Icon name="Phone" size={24} />
                                                    </div>
                                                    <span className="text-xl font-light tracking-wider">{slideData.phone}</span>
                                                </a>
                                            </div>

                                            <div className={`flex flex-col items-center gap-4 pt-12 border-t border-white/5 ${slideData.isCentered ? 'mx-auto' : 'lg:items-start'}`}>
                                                <span className="text-[10px] font-black tracking-[0.5em] uppercase text-white/30">Gruppo:</span>
                                                <img src={slideData.parentLogo} alt="Logo BiMA24" className="h-6 md:h-8 w-auto object-contain opacity-100 transition-all hover:scale-110" />
                                            </div>
                                        </div>
                                    )}
                                </div>

                                {!slideData.isHero && (
                                    <div 
                                        className="relative pointer-events-auto flex justify-center lg:justify-end"
                                        style={{ transform: `translate(${mousePos.x * -15}px, ${mousePos.y * -15}px)` }}
                                    >
                                        {slideData.isCTA ? (
                                            <div className="w-32 h-32 md:w-44 md:h-44 flex items-center justify-center opacity-90 hover:opacity-100 transition-opacity parallax-layer-2">
                                                <img src={slideData.qr} alt="Scan for Contacts" className="w-full h-full object-contain filter drop-shadow-2xl" />
                                            </div>
                                        ) : slideData.isComparison ? (
                                            <div className="flex flex-col gap-4 w-full">
                                                {slideData.images.map((img, idx) => (
                                                    <div key={idx} className={`relative rounded-lg overflow-hidden shadow-xl border border-white/10 img-zoom-container parallax-layer-${idx+1} ${idx === 1 ? 'md:-translate-x-8 border-2 border-gold shadow-2xl' : ''}`}>
                                                        <img src={img} alt="Detail" className="w-full h-48 md:h-64 object-cover luxury-grading" />
                                                        <div className={`absolute top-4 left-4 text-white text-[9px] font-bold px-3 py-1 rounded-full uppercase tracking-widest ${idx === 1 ? 'bg-gold' : 'bg-black/70'}`}>
                                                            {slideText.labels[idx]}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        ) : slideData.image ? (
                                            <div className="rounded-xl overflow-hidden shadow-2xl border border-white/5 img-zoom-container w-full parallax-layer-2">
                                                <img src={slideData.image} alt="Visual" className="w-full h-64 md:h-[500px] object-cover luxury-grading" />
                                            </div>
                                        ) : null}
                                    </div>
                                )}
                            </div>
                        </div>
                    </main>

                    <footer className={`p-8 flex items-center justify-between max-w-7xl mx-auto w-full border-t border-white/10 relative z-20 transition-opacity duration-1000 ${welcomeStage !== 'entered' ? 'opacity-0 pointer-events-none' : 'opacity-100'}`}>
                        <div className="flex gap-4">
                            <button onClick={() => { playClick(); prev(); }} className={`p-4 rounded-full border transition-all hover:scale-110 active:scale-95 ${isDark ? 'border-white/20 text-white hover:bg-white/10' : 'border-slate-900/20 text-slate-900 hover:bg-slate-900/5'}`}><Icon name="ChevronLeft" size={24} /></button>
                            <button onClick={() => { playClick(); next(); }} className={`p-4 rounded-full border transition-all hover:scale-110 active:scale-95 ${isDark ? 'border-white/20 text-white hover:bg-white/10' : 'border-slate-900/20 text-slate-900 hover:bg-slate-900/5'}`}><Icon name="ChevronRight" size={24} /></button>
                        </div>
                        <div className="hidden sm:flex gap-2">
                            {slidesContent.map((_, i) => (
                                <div key={i} className={`h-1 transition-all duration-300 ${currentSlide === i ? 'w-8 bg-gold' : 'w-2 bg-slate-600'}`}></div>
                            ))}
                        </div>
                        <div className={`text-[10px] font-black tracking-widest uppercase opacity-40 ${isDark ? 'text-white' : 'text-slate-900'}`}>
                            {currentSlide + 1} / {slidesContent.length}
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
